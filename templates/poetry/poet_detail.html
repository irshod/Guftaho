{% extends 'base.html' %}

{% block title %}{{ poet.name }} - –ì—É—Ñ—Ç—É–≥—û{% endblock %}

{% block content %}
<div class="row">
    <div class="col-md-4">
        {% if poet.photo %}
        <img src="{{ poet.photo.url }}" class="card-img-top" alt="{{ poet.name }}" style="border-radius: 20px; max-height: 400px; object-fit: cover;">
        {% else %}
        <div style="height: 300px; background: linear-gradient(135deg, #f1f5f9, #e2e8f0); display: flex; align-items: center; justify-content: center; color: #94a3b8; font-size: 5rem; border-radius: 20px;">
            üë§
        </div>
        {% endif %}
    </div>
    
    <div class="col-md-8">
        <h1 class="fade-in">{{ poet.name }}</h1>
        
        {% if poet.birth_date or poet.death_date %}
        <div class="mb-3">
            <h6 class="text-muted">
                {% if poet.birth_date %}
                    –¢–∞–≤–∞–ª–ª—É–¥: {{ poet.birth_date|date:"j F Y" }}
                {% endif %}
                {% if poet.death_date %}
                    {% if poet.birth_date %} - {% endif %}–í–∞—Ñ–æ—Ç: {{ poet.death_date|date:"j F Y" }}
                {% endif %}
            </h6>
        </div>
        {% endif %}
        
        <div class="poet-bio">
            {{ poet.biography|linebreaks }}
        </div>
    </div>
</div>

<hr class="my-5" style="border-color: #e2e8f0;">

<div class="row">
    <div class="col-12">
        <h2 class="fade-in">–û—Å–æ—Ä–∏ {{ poet.name }}</h2>
        <p class="text-muted">{{ books|length }} –∫–∏—Ç–æ–±</p>
    </div>
</div>

<div class="row">
    {% for book in books %}
    <div class="col-lg-4 col-md-6 mb-4">
        <div class="card fade-in">
            {% if book.cover_image %}
            <img src="{{ book.cover_image.url }}" class="card-img-top" alt="{{ book.title }}">
            {% else %}
            <div class="card-img-top" style="height: 250px; background: linear-gradient(135deg, #f1f5f9, #e2e8f0); display: flex; align-items: center; justify-content: center; color: #94a3b8; font-size: 3rem;">
                üìñ
            </div>
            {% endif %}
            
            <div class="card-body">
                <h5 class="card-title">{{ book.title }}</h5>
                
                {% if book.publication_date %}
                <small class="text-muted mb-2">
                    –°–∞–Ω–∞–∏ –Ω–∞—à—Ä: {{ book.publication_date|date:"Y" }}
                </small>
                {% endif %}
                
                <p class="card-text">
                    {{ book.description|truncatewords:15 }}
                </p>
                
                <div class="mt-auto">
                    <a href="{% url 'book_detail' book.slug %}" class="btn btn-primary">
                        –®–µ—ä—Ä“≥–æ—Ä–æ –¥–∏–¥–∞–Ω
                    </a>
                    <small class="text-muted ms-2">
                        {{ book.poems.count }} —à–µ—ä—Ä
                    </small>
                </div>
            </div>
        </div>
    </div>
    {% empty %}
    <div class="col-12">
        <div class="alert alert-info text-center fade-in">
            “≤–∞–Ω”Ø–∑ –∫–∏—Ç–æ–±–µ –±–∞—Ä–æ–∏ –∏–Ω —à–æ–∏—Ä –∏–ª–æ–≤–∞ –Ω–∞—à—É–¥–∞–∞—Å—Ç.
        </div>
    </div>
    {% endfor %}
</div>

<!-- Back to poets list -->
<div class="row mt-4">
    <div class="col-12">
        <a href="{% url 'home' %}" class="btn btn-outline-light" style="background: rgba(37, 99, 235, 0.1); color: var(--primary-color); border-color: var(--primary-color);">
            ‚Üê –ë–∞ —Ä”Ø–π—Ö–∞—Ç–∏ —à–æ–∏—Ä–æ–Ω –±–∞—Ä–≥–∞—Ä–¥–µ–¥
        </a>
    </div>
</div>
{% endblock %}